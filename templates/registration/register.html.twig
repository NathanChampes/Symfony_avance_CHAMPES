{% extends 'base.html.twig' %}

{% block title %}Register{% endblock %}

{% block body %}
    <div class="min-h-screen flex items-center justify-center bg-gradient-to-br from-[#F0D08D]/40 via-[#573634]/20 to-[#D36E25]/30 py-12 px-4 sm:px-6 lg:px-8">
        <a href="{{ path('home') }}" class="absolute top-4 left-4 px-4 py-2 text-sm font-medium text-[#573634] hover:text-[#D36E25] flex items-center transition-colors duration-200">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-1" viewBox="0 0 20 20" fill="currentColor">
            <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd" />
            </svg>
            {{ 'registration.back'|trans }}
        </a>
        <div class="max-w-md w-full space-y-8 bg-white p-10 rounded-xl shadow-lg transform hover:scale-105 transition-transform duration-300 border-4 border-[#F0D08D] relative overflow-hidden">
            <div class="absolute top-0 right-0 w-24 h-24 bg-[#D36E25]/10 rounded-bl-[80px]"></div>
            <div class="absolute bottom-0 left-0 w-20 h-20 bg-[#1B6ACC]/10 rounded-tr-[60px]"></div>
            <div class="absolute top-20 left-0 w-12 h-12 bg-[#F0D08D]/20 rounded-br-full"></div>

            <div>
                <h1 class="text-center text-3xl font-extrabold text-gray-900 mb-8">{{ 'registration.title'|trans }}</h1>
                {% if form_errors(registrationForm) %}
                    <div class="bg-red-50 p-4 rounded-lg text-red-600 mb-4">
                        {{ form_errors(registrationForm) }}
                    </div>
                {% endif %}
            </div>

            {{ form_start(registrationForm, {'attr': {'class': 'mt-8 space-y-6 relative'}}) }}
                <div class="rounded-md shadow-sm space-y-4">
                    {% for field in [
                        {'name': 'email', 'icon': 'M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207'},
                        {'name': 'plainPassword', 'icon': 'M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z'},
                        {'name': 'firstname', 'icon': 'M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z'},
                        {'name': 'lastname', 'icon': 'M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z'}
                    ] %}
                        <div class="relative">
                            <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                <svg class="h-5 w-5 text-[#573634]" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="{{ field.icon }}"/>
                                </svg>
                            </div>
                            {{ form_widget(attribute(registrationForm, field.name), {
                                'attr': {
                                    'class': 'appearance-none rounded-lg pl-10 relative block w-full px-3 py-2 border-2 border-[#F0D08D] placeholder-[#573634]/60 text-[#1B1013] focus:outline-none focus:ring-[#D36E25] focus:border-[#D36E25] sm:text-sm',
                                    'placeholder': ('registration.' ~ field.name)|trans
                                }
                            }) }}
                        </div>
                    {% endfor %}

                    <div class="flex items-center py-2">
                        {{ form_widget(registrationForm.agreeTerms, {
                            'attr': {
                                'class': 'h-4 w-4 text-[#D36E25] focus:ring-[#D36E25] border-[#F0D08D] rounded'
                            }
                        }) }}
                        <label for="agreeTerms" class="ml-2 block text-sm text-[#573634]">
                            {{ 'registration.terms'|trans }}
                        </label>
                    </div>
                </div>

                <button type="submit" class="group relative w-full flex justify-center py-3 px-4 border-2 border-[#D36E25] text-sm font-bold rounded-full text-white bg-[#D36E25] hover:bg-[#573634] hover:border-[#573634] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#D36E25] transition-all duration-200 transform hover:scale-105">
                    {{ 'registration.submit'|trans }}
                </button>

                <div class="text-center text-sm">
                    <a href="{{ path('app_login') }}" class="font-medium text-sky-600 hover:text-sky-500">
                        {{ 'registration.login'|trans }}
                    </a>
                </div>
            {{ form_end(registrationForm) }}
        </div>
    </div>
{% endblock %}
